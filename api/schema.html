<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Schema | Orango</title>
    <meta name="description" content="ArangoDB Object Modeler for Node.js, Foxx and Web Browsers">
    <link rel="icon" href="/icons/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#fd6602">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="#fd6602">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/mstile-150x150.png">
  <meta name="msapplication-TileColor" content="#fd6602">
    
    <link rel="preload" href="/assets/css/0.styles.f74fbd4b.css" as="style"><link rel="preload" href="/assets/js/app.6f2b6494.js" as="script"><link rel="preload" href="/assets/js/11.7e3d5891.js" as="script"><link rel="prefetch" href="/assets/js/9.ac45acdd.js"><link rel="prefetch" href="/assets/js/2.285762ea.js"><link rel="prefetch" href="/assets/js/3.4994633d.js"><link rel="prefetch" href="/assets/js/4.5c6140a9.js"><link rel="prefetch" href="/assets/js/5.1a963695.js"><link rel="prefetch" href="/assets/js/6.33ead4cd.js"><link rel="prefetch" href="/assets/js/7.f03755c5.js"><link rel="prefetch" href="/assets/js/8.a04f3426.js"><link rel="prefetch" href="/assets/js/10.0b4132a9.js"><link rel="prefetch" href="/assets/js/12.90e8c27f.js"><link rel="prefetch" href="/assets/js/13.d3f31ab5.js"><link rel="prefetch" href="/assets/js/14.8a236e17.js"><link rel="prefetch" href="/assets/js/15.15cafb51.js"><link rel="prefetch" href="/assets/js/16.7343962a.js"><link rel="prefetch" href="/assets/js/17.be94b5e7.js"><link rel="prefetch" href="/assets/js/18.baff5262.js"><link rel="prefetch" href="/assets/js/19.0d55a969.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f74fbd4b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container api"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/hero.png" alt="Orango" class="logo"> <span class="site-name can-hide">Orango</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/getting-started.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">API</a></div> <a href="https://github.com/roboncode/orango" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/getting-started.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">API</a></div> <a href="https://github.com/roboncode/orango" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Guide</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting Started</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/api/orango.html" class="sidebar-link">Orango</a></li><li><a href="/api/connection.html" class="sidebar-link">Connection</a></li><li><a href="/api/consts.html" class="sidebar-link">Constants</a></li><li><a href="/api/schema.html" class="active sidebar-link">Schema</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/schema.html#getting-started" class="sidebar-link">Getting started</a></li></ul></li><li><a href="/api/model.html" class="sidebar-link">Model</a></li><li><a href="/api/orm.html" class="sidebar-link">ORM</a></li></ul></div></li><li><a href="/roadmap.html" class="sidebar-link">Roadmap</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="schema"><a href="#schema" aria-hidden="true" class="header-anchor">#</a> Schema</h1> <p>The schema defines the blueprint for each model. ...</p> <p>Orango's schemas are built using Tang and Joi libraries.</p> <p><a href="https://github.com/hapijs/joi" target="_blank" rel="noopener noreferrer">Joi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is an object schema description language and validator for JavaScript objects. In addition to
validation, it provides a flexible way of creating schemas for a wide variety of scenarios and is
easily extensible.</p> <p>Tang is a library I built to extend Joi. At it's heart, Tang allows you to build Joi schemas using JSON-like structures.
Tang exists as a standalone validation tool, model generator and schema builder. It can be extended to build database-specific
solutions such as this library for ArangoDB. It is capable of being used for other databases as well. Much of what you will
see in this section are features of Tang and Joi. To learn about all available validation properties, <a href="https://github.com/hapijs/joi" target="_blank" rel="noopener noreferrer">refer to the Joi
API documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="getting-started"><a href="#getting-started" aria-hidden="true" class="header-anchor">#</a> Getting started</h2> <p>Joi is a powerfull validation tool. if prefer, you can create Joi schemas directly in Orango. This example is taken directly from the front page of Joi Github.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> Joi<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    username<span class="token punctuation">:</span> Joi<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">alphanum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">required</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    password<span class="token punctuation">:</span> Joi<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span><span class="token regex">/^[a-zA-Z0-9]{3,30}$/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    access_token<span class="token punctuation">:</span> <span class="token punctuation">[</span> Joi<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Joi<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    birthyear<span class="token punctuation">:</span> Joi<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1900</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">2013</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    email<span class="token punctuation">:</span> Joi<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">{</span> minDomainAtoms<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'birthyear'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">without</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">,</span> <span class="token string">'access_token'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> UserSchema <span class="token operator">=</span> orango<span class="token punctuation">.</span><span class="token function">Schema</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span>
</code></pre></div><p>If you are not familiar with Joi, or are coming from Mongoose or just prefer to build using JSON,
you can create a similar schema with Tang in Orango.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  username<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> String<span class="token punctuation">,</span> alphanum<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> required<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  password<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> String<span class="token punctuation">,</span> regex<span class="token punctuation">:</span> <span class="token regex">/^[a-zA-Z0-9]{3,30}$/</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  access_token<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token punctuation">[</span> String<span class="token punctuation">,</span> Number <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  birthyear<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> integer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">1900</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">2018</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  email<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> String<span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token punctuation">{</span> minDomainAtoms<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> UserSchema <span class="token operator">=</span> orango<span class="token punctuation">.</span><span class="token function">Schema</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span>
UserSchema<span class="token punctuation">.</span>joi <span class="token operator">=</span> UserSchema<span class="token punctuation">.</span>joi
  <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'birthyear'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">without</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">,</span> <span class="token string">'access_token'</span><span class="token punctuation">)</span>
</code></pre></div><p>Both have their own advantages and disadvantages. Tang will allow you to create <a href>scoped required properties</a>, but cannot provide you the full feature set of Joi. I would recommend that unless there is a feature in Joi that requires you to use Joi over Tang, then use the JSON notation. Also, you can mix and match Joi into the JSON notation.</p> <p>Mixing the example above with Joi and Tang.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// scoped required property only required on create</span>
  username<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> String<span class="token punctuation">,</span> alphanum<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> required<span class="token punctuation">:</span> <span class="token string">'create'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Joi inserted into Tang</span>
  password<span class="token punctuation">:</span> Joi<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">regex</span><span class="token punctuation">(</span><span class="token regex">/^[a-zA-Z0-9]{3,30}$/</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// scoped required property required on update</span>
  access_token<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token punctuation">[</span> String<span class="token punctuation">,</span> Number <span class="token punctuation">]</span><span class="token punctuation">,</span> required<span class="token punctuation">:</span> <span class="token string">'update'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// birthyear is required on create because of with() below</span>
  birthyear<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> Number<span class="token punctuation">,</span> integer<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">1900</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token number">2018</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// scoped required property required on create</span>
  email<span class="token punctuation">:</span> <span class="token punctuation">{</span> type<span class="token punctuation">:</span> String<span class="token punctuation">,</span> email<span class="token punctuation">:</span> <span class="token punctuation">{</span> minDomainAtoms<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> required<span class="token punctuation">:</span> <span class="token string">'create'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> UserSchema <span class="token operator">=</span> orango<span class="token punctuation">.</span><span class="token function">Schema</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span>
UserSchema<span class="token punctuation">.</span>joi <span class="token operator">=</span> UserSchema<span class="token punctuation">.</span>joi
  <span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'birthyear'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">without</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">,</span> <span class="token string">'access_token'</span><span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/roboncode/orango/edit/master/docs/api/schema.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/19/2018, 6:02:18 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/api/consts.html" class="prev">
          Constants
        </a></span> <span class="next"><a href="/api/model.html">
          Model
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/11.7e3d5891.js" defer></script><script src="/assets/js/app.6f2b6494.js" defer></script>
  </body>
</html>
